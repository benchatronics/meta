{% extends "base_settings.html" %}
{% load i18n %}

{% block title %}Settings â€” Language{% endblock %}
{% block breadcrumb %}Home / setting / language{% endblock %}

{% block settings_content %}
<h3>{% trans "Language" %}</h3>
<div class="sub">{% trans "Select your language." %}</div>

{% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as avail_codes %}
{% get_language_info_list for avail_codes as langs %}

<form method="post" action="{% url 'set_language' %}">
  {% csrf_token %}
  <input type="hidden" name="next" value="{{ request.get_full_path }}">

  <div class="lang-grid">
    {% for l in langs %}
      <button type="submit"
              name="language"
              value="{{ l.code }}"
              class="lang-pill {% if l.code == LANGUAGE_CODE %}selected{% endif %}">
        {# Same flag mapping style you use in the header #}
        {% if l.code == 'fr' %}ğŸ‡«ğŸ‡·
        {% elif l.code == 'es' or l.code == 'es-MX' or l.code == 'es-AR' %}ğŸ‡ªğŸ‡¸
        {% elif l.code == 'de' %}ğŸ‡©ğŸ‡ª
        {% elif l.code == 'it' %}ğŸ‡®ğŸ‡¹
        {% elif l.code == 'pt' %}ğŸ‡µğŸ‡¹
        {% elif l.code == 'ar' %}ğŸ‡¸ğŸ‡¦
        {% elif l.code == 'zh-hans' or l.code == 'zh' %}ğŸ‡¨ğŸ‡³
        {% elif l.code == 'ja' %}ğŸ‡¯ğŸ‡µ
        {% elif l.code == 'ko' %}ğŸ‡°ğŸ‡·
        {% elif l.code == 'ru' %}ğŸ‡·ğŸ‡º
        {% elif l.code == 'nl' %}ğŸ‡³ğŸ‡±
        {% elif l.code == 'pl' %}ğŸ‡µğŸ‡±
        {% elif l.code == 'fi' %}ğŸ‡«ğŸ‡®
        {% elif l.code == 'sv' %}ğŸ‡¸ğŸ‡ª
        {% elif l.code == 'no' %}ğŸ‡³ğŸ‡´
        {% elif l.code == 'bg' %}ğŸ‡§ğŸ‡¬
        {% elif l.code == 'uk' %}ğŸ‡ºğŸ‡¦
        {% elif l.code == 'en-US' %}ğŸ‡ºğŸ‡¸
        {% else %}ğŸ‡¬ğŸ‡§{% endif %}
        <span class="flag"></span>
        <span>{{ l.name_local }}</span>
        {% if l.code != l.name %}
          <span style="color:#777;margin-left:6px;">({{ l.name }})</span>
        {% endif %}
      </button>
    {% endfor %}
  </div>
</form>
{% endblock %}
