{% extends "base_settings.html" %}
{% load i18n lang_extras %}

{% block title %}Settings â€” Language{% endblock %}
{% block breadcrumb %}Home / setting / language{% endblock %}

{% block settings_content %}
<h3>{% trans "Language" %}</h3>
<div class="sub">{% trans "Select your language." %}</div>

<form method="post" action="{% url 'set_language' %}">
  {% csrf_token %}
  <input type="hidden" name="next" value="{{ request.get_full_path }}">

  <div class="lang-grid">
    {% for code,label in LANGUAGES %}
      {% with isrtl=code|is_rtl %}
      <button type="submit"
              name="language"
              value="{{ code }}"
              class="lang-pill {% if code == LANGUAGE_CODE %}selected{% endif %}"
              {% if isrtl %}dir="rtl"{% endif %}>
        {{ code|lang_flag }}
        <span class="flag"></span>
        <span>{{ code|safe_lang_local_name }}</span>
        <span style="color:#777;margin-left:6px;">({{ code|safe_lang_en_name }})</span>
      </button>
      {% endwith %}
    {% endfor %}
  </div>
</form>

<style>
    /* Make the grid wrap nicely on mobile */
.lang-grid{
  display:flex; flex-wrap:wrap; gap:8px;
}
.lang-pill{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px; border-radius:12px; border:1px solid #e5e7eb;
  background:#fff; cursor:pointer;
}
.lang-pill.selected{ border-color:#2f57ff; box-shadow:0 0 0 3px rgba(47,87,255,.18); }


</style>
{% endblock %}
