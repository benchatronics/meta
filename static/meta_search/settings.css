:root{
  --primary:#2f57ff;
  --text:#0f172a;
  --muted:#6b7280;
  --border:#e5e7eb;
  --card:#ffffff;
  --bg:#f8fafc;
  --radius:16px;
  --shadow:0 10px 24px rgba(16,24,40,.06);

  /* design panel */
  --panel:#173B88;                 /* left panel blue */
  --panel-text:#ffffff;
  --panel-muted:rgba(255,255,255,.75);
  --active-indicator:#ffffff;      /* white tick */
}

/* =========================================================
   SETTINGS PAGE (mobile-first)
   ========================================================= */

/* scope to settings page to avoid leaking styles */
.settings-page{ padding:0 16px 28px; }
.settings-page h1{ font-size:24px; margin:10px 0 16px; letter-spacing:.2px; }

/* Layout */
.settings-grid{
  display:grid;
  grid-template-columns:1fr;       /* stack by default (phones) */
  gap:18px;
  align-items:start;
  min-height:0;
}

/* Left tabs */
.tabs-card{
  position:relative;
  background:var(--panel);
  color:var(--panel-text);
  border:1px solid transparent;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;                 /* clip rounded corners on mobile */
}
/* Make tabs horizontally scrollable on small screens */
.tab-list{
  list-style:none; margin:0; padding:10px;
  display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch;
}
.tab-item{
  position:relative;
  display:flex; align-items:center; gap:10px;
  padding:10px 12px;
  line-height:20px;
  border-radius:999px;             /* pill on mobile */
  color:var(--panel-text);
  font-size:14px; white-space:nowrap; flex:0 0 auto;
}
.tab-item i{
  width:18px; flex:0 0 18px; text-align:center; color:inherit; font-size:16px;
}
.tab-item a{ color:inherit; text-decoration:none; }
.tab-item:hover{ background:rgba(255,255,255,.08); }
/* On mobile, show active with a subtle ring instead of right bar */
.tab-item.active{
  background:rgba(255,255,255,.14);
  box-shadow:0 0 0 2px rgba(255,255,255,.25) inset;
}
.tab-item.active::after{ content:none; }

/* Right card */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}
.card-body{ padding:16px; }
.card h3{ margin:0 0 8px; font-size:18px; }
.sub{ color:var(--muted); font-size:13px; margin-bottom:16px; }

/* Avatar + actions */
.profile-row{ display:flex; align-items:center; gap:12px; margin-bottom:12px; flex-wrap:wrap; }
.avatar{ width:64px; height:64px; border-radius:50%; overflow:hidden; flex:0 0 auto; }
.avatar img{ width:100%; height:100%; object-fit:cover; }

.btn-row{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.btn{
  appearance:none;
  border:1px solid var(--border);
  background:#fff;
  padding:12px 14px;                 /* comfy touch target */
  border-radius:12px;
  font-size:14px;
  cursor:pointer;
  font-weight:600;
}
.btn.outline{ background:#fff; }
.btn.danger{ border-color:#fecaca; color:#b91c1c; background:#fff; }
.btn.primary{ background:var(--primary); color:#fff; border-color:transparent; }
.btn.primary:hover{ filter:brightness(.95); }
.hint{ font-size:12px; color:var(--muted); }

/* Info grid */
.info-grid{
  display:grid;
  grid-template-columns:1fr;         /* stack on phones */
  gap:12px; margin:16px 0;
}
.field .label{
  font-size:12px; color:var(--muted);
  text-transform:uppercase; letter-spacing:.04em; margin-bottom:4px;
}
.field .value{ font-size:16px; font-weight:600; word-break:break-word; }

/* Footer actions */
.actions{ display:flex; gap:10px; justify-content:stretch; }
.actions .btn.primary{ width:100%; padding:14px 18px; font-size:16px; }

/* =========================================================
   LANGUAGE GRID ‚Äî pills & flags (improved desktop styling)
   ========================================================= */
.lang-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(130px,1fr)); /* mobile/compact */
  gap:10px; align-items:stretch;
}
.lang-grid .radio{ position:absolute; opacity:0; pointer-events:none; }
.lang-pill{
  display:flex; align-items:center; gap:10px;
  padding:12px 14px;
  border-radius:12px;
  background:#fff;
  border:1px solid var(--border);
  font:600 15px/1.25 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial;
  color:var(--text); cursor:pointer; text-align:left;
  transition: box-shadow .15s ease, transform .08s ease, border-color .15s ease, background-color .15s ease;
  min-height:48px;                  /* consistent height */
}
.lang-pill:hover{ background:#eef2f7; }
.lang-pill.selected{
  background:var(--primary); color:#fff; border-color:transparent;
  box-shadow:0 0 0 3px rgba(47,87,255,.18);
}
.lang-pill .flag{ font-size:18px; line-height:0; display:inline-flex; }

/* Desktop polish for language list */
@media (min-width:980px){
  .lang-grid{
    grid-template-columns: repeat(3, minmax(220px, 1fr));  /* tidy 3 cols on desktop */
    gap:14px;
  }
  .lang-pill{
    padding:14px 16px;
    font-size:16px;
    border-radius:14px;
    box-shadow:0 1px 0 rgba(16,24,40,.02);
  }
}
@media (min-width:1200px){
  .lang-grid{
    grid-template-columns: repeat(4, minmax(220px, 1fr));  /* 4 cols on wide screens */
    gap:16px;
  }
}

/* Optional: style the ‚Äú(English name)‚Äù tail if not inline-styled */
.lang-pill .altname{ color:var(--muted); margin-left:6px; font-weight:500; }

/* =========================================================
   CHANGE PASSWORD / AUTH-LIKE CONTROLS (mobile-first)
   ========================================================= */
.form-grid{ max-width:100%; display:grid; gap:12px; }
.group .label{ font-weight:600; font-size:13px; margin-bottom:6px; color:var(--text); }

.ctrl{ position:relative; }
.ctrl .input{
  position:relative; z-index:1; width:100%; height:46px;
  padding:10px 56px 10px 56px; /* space for left icon + right code (captcha) */
  border:1px solid var(--border); border-radius:12px; font-size:14px; background:#fff; outline:none;
}
.ctrl .input:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(47,87,255,.08); }
.leading-icon{
  position:absolute; left:14px; top:50%; transform:translateY(-50%);
  color:var(--muted); font-size:16px; z-index:2;
}
.ctrl.has-leading::after{
  content:""; position:absolute; left:44px; top:50%; transform:translateY(-50%);
  width:1px; height:24px; background:var(--border); z-index:2;
}
.with-icon-left{ padding-left:56px; }

/* Phone */
.phone-field{ display:flex; gap:8px; flex-wrap:wrap; }
.phone-field .cc{
  height:46px; border:1px solid var(--border); border-radius:12px;
  padding:0 10px; background:#fff; font-size:14px; flex:1 1 120px;
}
.phone-field .num{ flex:1 1 180px; min-width:0; }

/* Captcha (inside the input, right side) */
.captcha-field .code-badge{
  position:absolute; right:12px; top:50%; transform:translateY(-50%);
  height:32px; min-width:76px; padding:0 10px; border-radius:8px;
  background:#111827; color:#fff; font-weight:700; letter-spacing:2px;
  display:flex; align-items:center; justify-content:center;
  box-shadow:inset 0 0 0 2px #1f2937;
}
.with-code-right{ padding-right:110px; }

/* Helper + strength */
.inline-actions{ display:flex; gap:10px; align-items:center; margin-top:6px; flex-wrap:wrap; }
.inline-actions .link{ color:var(--primary); text-decoration:none; font-size:12.5px; }

.requirements{ font-size:12px; color:var(--muted); margin-top:4px; }
.strength{ display:flex; align-items:center; gap:8px; margin-top:8px; }
.strength .bar{ flex:1; height:6px; border-radius:6px; background:#e5e7eb; }
.strength .bar.on.weak{ background:#fca5a5; }
.strength .bar.on.fair{ background:#fdba74; }
.strength .bar.on.good{ background:#86efac; }
.strength-label{ font-size:12px; color:var(--muted); }

/* Shared auth-like field styling inside settings card */
.field{ position:relative; }
.field.has-left-ic{ position:relative; }
.field.has-left-ic input[type="password"],
.field.has-left-ic input[type="text"]{
  width:100%; height:46px; padding:10px 42px 10px 46px;
  border:1px solid var(--border); border-radius:12px; font-size:14px; background:#fff; outline:none;
}
.field.has-left-ic input:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(47,87,255,.08); }

/* left lock icon (same as signin) */
.left-ic{
  position:absolute; left:12px; top:50%; transform:translateY(-50%);
  width:18px; height:18px; color:var(--muted);
}
.field.has-left-ic::after{
  content:""; position:absolute; left:36px; top:50%; transform:translateY(-50%);
  width:1px; height:24px; background:var(--border);
}

/* eye toggle (same class as signin) */
.eye-btn{
  position:absolute; right:10px; top:50%; transform:translateY(-50%);
  width:28px; height:28px; border:0; background:transparent; cursor:pointer;
}
.eye-btn::before{ content:"üëÅÔ∏è"; display:block; font-size:16px; line-height:28px; }
.eye-btn.on::before{ content:"üôà"; }

/* phone field from signin */
.phone_number_field{ display:flex; gap:8px; flex-wrap:wrap; }
.phone_number_field select,
.phone_number_field input{
  height:46px; border:1px solid var(--border); border-radius:12px;
  padding:0 10px; background:#fff; font-size:14px;
}
.phone_number_field select{ min-width:110px; }

/* captcha field from signin */
.captcha-field{ position:relative; }
.captcha-field.no-divider input{ padding-left:12px; }
.captcha-field .errorlist{ margin-top:6px; }

.errorlist{ color:#b91c1c; margin:6px 0 0 0; padding-left:18px; }

/* Country code: compact */
.phone_number_field select.country-select,
.phone-field .cc{
  height:46px;
  border:1px solid var(--border);
  border-radius:12px;
  padding:0 8px;
  background:#fff;
  font-size:14px;
  width:110px; min-width:110px; max-width:140px;
  text-overflow:ellipsis; white-space:nowrap; overflow:hidden;
}

/* Captcha (django-simple-captcha) */
.captcha-field img.captcha{
  position:absolute; right:12px; top:50%; transform:translateY(-50%);
  height:32px; border-radius:8px;
  box-shadow:inset 0 0 0 2px #1f2937; background:#111827;
}
.captcha-field .captcha-refresh{ position:absolute; right:12px; top:calc(50% + 24px); font-size:12px; color:var(--muted); text-decoration:none; }

/* =========================================================
   INFO THEME (mobile-first, mirrors settings)
   ========================================================= */
:root{
  --info-primary:#2f57ff;
  --info-text:#0f172a;
  --info-muted:#6b7280;
  --info-border:#e5e7eb;
  --info-card:#ffffff;
  --info-bg:#f8fafc;
  --info-radius:16px;
  --info-shadow:0 10px 24px rgba(16,24,40,.06);

  --info-panel:#173B88;
  --info-panel-text:#ffffff;
  --info-panel-muted:rgba(255,255,255,.75);
  --info-active-indicator:#ffffff;
}

/* Shell + layout */
.info-shell{ padding:0 16px 28px; }
.info-title{ font-size:24px; margin:10px 0 16px; letter-spacing:.2px; color:var(--info-text); }

.info-layout{
  display:grid;
  grid-template-columns:1fr;      /* stacked on phones */
  gap:18px; align-items:start; min-height:0;
}

/* Left sidebar (tabs) */
.info-sidebar{
  position:relative; background:var(--info-panel); color:var(--info-panel-text);
  border:1px solid transparent; border-radius:var(--info-radius);
  box-shadow:var(--info-shadow); overflow:hidden;
}
.info-list{ list-style:none; margin:0; padding:10px; display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch; }
.info-item{
  position:relative; display:flex; align-items:center; gap:10px;
  padding:10px 12px; line-height:20px; border-radius:999px; color:var(--info-panel-text);
  font-size:14px; white-space:nowrap; flex:0 0 auto;
}
.info-item i{ width:18px; flex:0 0 18px; text-align:center; font-size:16px; color:inherit; }
.info-item a{ color:inherit; text-decoration:none; }
.info-item + .info-item{ margin-left:0; }
.info-item:hover{ background:rgba(255,255,255,.08); }
.info-item.is-active{ background:rgba(255,255,255,.14); box-shadow:0 0 0 2px rgba(255,255,255,.25) inset; }
.info-item.is-active::after{ content:none; }

/* Right card */
.info-card{
  background:var(--info-card); border:1px solid var(--info-border);
  border-radius:var(--info-radius); box-shadow:var(--info-shadow);
}
.info-body{ padding:16px; }
.info-heading{ margin:0 0 8px; font-size:18px; color:var(--info-text); }
.info-sub{ color:var(--info-muted); font-size:13px; margin:0 0 16px; }

/* Quick links */
.info-quick-links{ display:flex; flex-wrap:wrap; gap:10px; margin:6px 0 14px; }
.info-btn{
  appearance:none; display:inline-flex; align-items:center; gap:10px;
  padding:12px 14px; border-radius:12px; border:1px solid var(--info-border);
  background:#fff; font-size:14px; font-weight:600; color:var(--info-text);
  cursor:pointer; text-decoration:none; line-height:1;
}
.info-btn:hover{ background:#eef2f7; }
.info-btn.is-active{ background:var(--info-primary); color:#fff; border-color:transparent; }
.info-btn.outline{ background:#fff; border-color:var(--info-border); color:var(--info-text); }
.info-btn:focus-visible{ outline:none; box-shadow:0 0 0 3px rgba(47,87,255,.2); }

/* Announcements */
.info-announcements{ display:grid; gap:12px; margin:6px 0 16px; }
.info-announcement{
  background:var(--info-card); border:1px solid var(--info-border);
  border-radius:12px; padding:14px; box-shadow:0 1px 0 rgba(16,24,40,.02);
}
.info-annc-title{ margin:0 0 8px; font-size:16.5px; font-weight:700; color:var(--info-text); }
.info-annc-body{ color:var(--info-text); font-size:14.5px; line-height:1.55; }
.info-annc-body p{ margin:0 0 10px; }
.info-annc-body p:last-child{ margin-bottom:0; }
.info-annc-actions{ display:flex; justify-content:flex-end; margin-top:10px; }

/* Article */
.info-article{ margin-top:8px; }
.info-bodytext{ color:var(--info-text); font-size:15px; line-height:1.65; }
.info-btn i{ font-size:16px; line-height:0; }

/* =========================================================
   RESPONSIVE BREAKPOINTS (enhancements upwards)
   ========================================================= */

/* ‚â• 640px (large phones / small tablets) */
@media (min-width:640px){
  .settings-page h1{ font-size:26px; }
  .card h3{ font-size:19px; }
  .avatar{ width:68px; height:68px; }
  .lang-pill{ font-size:16px; }
}

/* ‚â• 768px (tablets) */
@media (min-width:768px){
  .settings-grid{ gap:22px; }
  .card-body{ padding:20px; }
  .info-grid{ grid-template-columns:repeat(2,minmax(0,1fr)); }
  .actions{ justify-content:flex-end; }
  .actions .btn.primary{ width:auto; min-width:160px; }
  .tab-list{ padding:14px; }
  .tab-item{ border-radius:12px; padding:12px 14px; font-size:15px; gap:12px; }
  .tab-item i{ width:20px; flex-basis:20px; font-size:18px; }
  .info-list{ padding:14px; }
  .info-item{ border-radius:12px; padding:12px 14px; font-size:15px; gap:12px; }
  .info-item i{ width:20px; flex-basis:20px; font-size:18px; }
}

/* ‚â• 980px (desktop) */
@media (min-width:980px){
  .settings-grid{ grid-template-columns:280px 1fr; gap:28px; min-height:560px; }
  .tabs-card{ overflow:visible; } /* restore original */
  /* desktop tab look: remove pills, add right-edge tick */
  .tab-list{ display:block; overflow:visible; padding:14px 0 14px 14px; }
  .tab-item{
    border-radius:12px; white-space:normal; flex:unset;
    padding:14px 18px; line-height:22px; font-size:15.5px;
  }
  .tab-item + .tab-item{ margin-top:12px; }
  .tab-item.active{
    background:transparent; box-shadow:none;
  }
  .tab-item.active::after{
    content:""; position:absolute; right:0; top:50%;
    width:5px; height:22px; transform:translateY(-50%);
    background:var(--active-indicator); border-radius:2.5px;
  }

  .card-body{ padding:26px; }
  .card h3{ font-size:20px; }

  .info-layout{ grid-template-columns:280px 1fr; gap:28px; min-height:560px; }
  .info-title{ font-size:28px; }
  .info-body{ padding:26px; }
  .info-heading{ font-size:20px; }
}

/* ‚â• 1200px (wide) */
@media (min-width:1200px){
  .settings-page{ padding:0 20px 36px; }
  .settings-page h1{ font-size:28px; }
}

/* =========================================================
   ACCESSIBILITY & MOTION
   ========================================================= */
.tab-item:focus-visible,
.info-item:focus-visible,
.btn:focus-visible,
.lang-pill:focus-visible{
  outline:2px solid rgba(47,87,255,.45);
  outline-offset:2px;
}

@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important; }
}

/* ===== Captcha ‚Äî restore old working style ===== */
.captcha-field{
  position: relative;
}
/* left padlock icon */
.captcha-field .left-ic,
.captcha-field .leading-icon{
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--muted);
  font-size: 16px;
  z-index: 2;
}
/* text input (django-simple-captcha renders ...captcha_1) */
.captcha-field input[type="text"],
.captcha-field input[name$="captcha_1"]{
  width: 100%;
  height: 46px;
  padding: 10px 120px 10px 56px;   /* left icon + space for image on right */
  border: 1px solid var(--border);
  border-radius: 12px;
  font-size: 14px;
  outline: none;
  background: #fff;
}
.captcha-field input[type="text"]:focus,
.captcha-field input[name$="captcha_1"]:focus{
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(47,87,255,.08);
}
/* captcha image sits inside the field on the right */
.captcha-field img.captcha{
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  height: 32px;
  border-radius: 8px;
  background: #111827;
  box-shadow: inset 0 0 0 2px #1f2937;
}
/* optional refresh link */
.captcha-field .captcha-refresh,
.captcha-field a.captcha-refresh{
  position: absolute;
  right: 12px;
  top: calc(50% + 24px);
  font-size: 12px;
  color: var(--muted);
  text-decoration: none;
}
/* divider line after the left icon */
.captcha-field::after{
  content: "";
  position: absolute;
  left: 44px;
  top: 50%;
  transform: translateY(-50%);
  width: 1px;
  height: 24px;
  background: var(--border);
}
/* --- Mobile safety: keep things readable on small screens --- */
@media (max-width: 380px){
  .captcha-field input[type="text"],
  .captcha-field input[name$="captcha_1"]{
    padding-right: 100px;            /* slight reduction for tiny widths */
  }
  .captcha-field img.captcha{
    right: 10px;
    height: 28px;
  }
  .captcha-field .captcha-refresh,
  .captcha-field a.captcha-refresh{
    top: calc(50% + 20px);
    font-size: 11px;
  }
}
